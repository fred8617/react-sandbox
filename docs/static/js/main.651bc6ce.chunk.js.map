{"version":3,"sources":["react-sandbox/CodeEditor.tsx","react-sandbox/util.ts","react-sandbox/useUUID.tsx","react-sandbox/ConsoleDivider.tsx","react-sandbox/babelPlugins.tsx","react-sandbox/index.tsx","example/antd/index.tsx","example/antd/code.lsz","example/leetcode/index.tsx","example/leetcode/code.lsz","example/leetcode/defs.lsz","example/leetcode/implements.lsz","example/sourcemap/index.tsx","example/sourcemap/code.lsz","example/sourcemap/defs.lsz","example/sourcemap/implements.lsz","App.tsx","reportWebVitals.ts","index.tsx"],"names":["CodeEditor","beforeMount","onChange","props","container","useRef","useEffect","monaco","editor","create","current","automaticLayout","minimap","enabled","onDidChangeModelContent","event","getValue","dispose","style","height","width","ref","TypeScript","forwardRef","defs","defaultValue","libs","extraLibs","libCode","model","monacoRef","uri","file","ifExsitModel","getModel","isDisposed","createModel","useImperativeHandle","loadLibs","typescript","typescriptDefaults","addExtraLib","Object","entries","map","name","code","didMount","compilerDefaults","baseUrl","allowSyntheticDefaultImports","jsx","languages","JsxEmit","React","experimentalDecorators","noEmit","allowJs","types","setCompilerOptions","setEagerModelSync","prettierOptions","provideDocumentFormattingEdits","range","getFullModelRange","text","prettier","format","trailingComma","jsxSingleQuote","semi","plugins","babel","ts","gql","parser","arrowParens","bracketSpacing","htmlWhitespaceSensitivity","insertPragma","jsxBracketSameLine","printWidth","proseWrap","quoteProps","requirePragma","singleQuote","tabWidth","useTabs","vueIndentScriptAndStyle","registerDocumentFormattingEditProvider","registerCompletionItemProvider","provideCompletionItems","position","word","getWordUntilPosition","startLineNumber","lineNumber","endLineNumber","startColumn","endColumn","suggestions","label","kind","CompletionItemKind","Function","documentation","insertText","insertTextRules","CompletionItemInsertTextRule","InsertAsSnippet","scrollbar","getDiagsMessages","diags","cagegoryLevel","messages","forEach","diag","messageText","category","push","next","generateUUID","r","len","radix","chars","split","value","i","length","Math","random","join","ConsoleDivider","margin","border","Babel","DeadCycle","path","uuid","uuidIncresment","template","ast","uuidJudge","generate","node","blocks","body","unshift","insertUUID","parentBody","parent","splice","visitor","WhileStatement","DoWhileStatement","ForInStatement","ForOfStatement","ForStatement","sourceMap","SourceMapConsumer","initialize","babelConfig","filename","presets","proposal","legacy","loose","getCode","src","a","fetch","then","res","Sandbox","scripts","pScripts","pCode","styles","pStyles","preExecute","pageDefaultSize","wrapperFunction","useUUID","eventId","pExecute","useState","consoleMessages","setConsoleMessages","smap","setSMap","loading","setLoading","setScripts","setStyles","dragging","setDragging","loadersCode","cssCode","imports","useMemo","fromEntries","e","typeCode","filter","Boolean","run","useCallback","setModelMarkers","editorRef","getTypeScriptWorker","_worker","worker","getSemanticDiagnostics","toString","errors","Error","babelCompiled","console","log","compiledCode","document","contentWindow","codeBlob","Blob","type","url","URL","createObjectURL","rawSourceMap","children","removeChild","appendChild","createElement","documentElement","innerHTML","JSON","stringify","pExcuteScript","preExcuteScript","loader","sc","onConsoleMessage","ev","message","detail","onFileMessage","data","source","line","column","error","undefined","stack","urlIndex","indexOf","isLine","num","Number","consumer","originPosition","originalPositionFor","destroy","severity","dispatchConsoleEvent","CustomEvent","window","dispatchEvent","dispatchFileEvent","addEventListener","removeEventListener","loaders","systemjs","systemjsAmd","Promise","all","script","typeCodes","newScripts","href","newStyles","containerRef","horizontalMaxSize","setHorizontalMaxSize","verticalMaxSize","setVerticalMaxSize","caclSize","clientWidth","clientHeight","consoleHeight","setConsoleHeight","caclConsoleHeight","containerHeight","includes","parseFloat","replace","className","background","onDragStarted","onDragFinished","pane1Style","pane2Style","defaultSize","minSize","maxSize","debounce","pointerEvents","title","overflow","padding","boxSizing","Fragment","paddingBottom","color","collapsed","version","Antd","require","LeetCode","localStorage","getItem","c","setItem","App","exact","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"mg0YAuBMA,EAAsE,SAAC,GAItE,IAHLC,EAGI,EAHJA,YACAC,EAEI,EAFJA,SACGC,EACC,0CACEC,EAAYC,iBAAuB,MAezC,OAdAC,qBAAU,WACG,OAAXL,QAAW,IAAXA,KAAcM,GACd,IAAMC,EAASD,SAAcE,OAAOL,EAAUM,QAA/B,aACbC,iBAAiB,EACjBC,QAAS,CAAEC,SAAS,IACjBV,IAKL,OAHAK,EAAOM,yBAAwB,SAACC,GACtB,OAARb,QAAQ,IAARA,KAAWM,EAAOQ,WAAYD,MAEzB,WACLP,EAAOS,aAER,IAED,mCACE,qBAAKC,MAAO,CAAEC,OAAO,OAASC,MAAM,QAAWC,IAAKjB,OAsM1DJ,EAAWsB,WA3KQC,sBACjB,WASEF,GACI,IAAD,IARDG,YAQC,MARM,GAQN,MAPDC,oBAOC,eANDC,YAMC,MANM,GAMN,MALDC,iBAKC,MALW,GAKX,EAHExB,GAGF,EAJDyB,QAIC,qEACGC,EAAQxB,mBACRyB,EAAYzB,mBAClB,IAAKwB,EAAMnB,QAAS,CAElB,IAAMqB,EAAMxB,MAAWyB,KAAK,aACtBC,EAAe1B,SAAc2B,SAASH,GAExCE,KAAgB,OAACA,QAAD,IAACA,OAAD,EAACA,EAAcE,cACjCN,EAAMnB,QAAUuB,EAEhBJ,EAAMnB,QAAUH,SAAc6B,YAC5BX,EACA,aACAM,GAINM,8BAAoBhB,GAAK,iBAAO,CAC9BQ,MAAOA,EAAMnB,QACbH,OAAQuB,EAAUpB,YAEpBJ,qBAAU,WACR,OAAO,WAAO,IAAD,EACX,UAAAuB,EAAMnB,eAAN,SAAeO,aAEhB,IACH,IAAMqB,EAAW,WACf/B,YAAiBgC,WAAWC,mBAAmBC,YAC7CjB,EADF,0CAIAkB,OAAOC,QAAQjB,GAAMkB,KAAI,YAAmB,IAAD,mBAAhBC,EAAgB,KAAVC,EAAU,KACzCvC,YAAiBgC,WAAWC,mBAAmBC,YAC7CK,EADF,sCAEiCD,EAFjC,mBAKFH,OAAOC,QAAQhB,GAAWiB,KAAI,YAAmB,IAAD,mBAAhBC,EAAgB,KAAVC,EAAU,KAC9CvC,YAAiBgC,WAAWC,mBAAmBC,YAC7CK,EADF,sCAEiCD,QASrC,OALAvC,qBAAU,WAAO,IAAD,IAGd,OAFAgC,IACA,UAAAnC,EAAMD,gBAAN,cAAAC,EAAK,UAAY0B,EAAMnB,eAAlB,aAAY,EAAeM,YACzB,eACN,CAACU,IAEF,cAAC,EAAD,aACEG,MAAOA,EAAMnB,QACbqC,SAAU,aACV9C,YAAa,SAACM,GACZuB,EAAUpB,QAAUH,EACpB,IAAMyC,EAAgE,CACpEC,QAAS,+BACTC,8BAA8B,EAC9BC,IAAK5C,EAAO6C,UAAUb,WAAWc,QAAQC,MACzCC,wBAAwB,EACxBC,QAAQ,EACRC,SAAS,EACTC,MAAO,CAAC,UAGVnD,EAAO6C,UAAUb,WAAWC,mBAAmBmB,mBAC7CX,GAGFzC,EAAO6C,UAAUb,WAAWC,mBAAmBoB,mBAC7C,GAEF,IAAMC,EAAkB,CACtBC,+BADsB,SACSjC,GAC7B,MAAO,CACL,CACEkC,MAAOlC,EAAMmC,oBACbC,KAAMC,IAASC,OAAOtC,EAAMb,WAAY,CACtCoD,cAAe,MACfC,gBAAgB,EAChBC,MAAM,EACNC,QAAS,CAACC,IAAOC,IAAIC,KACrBC,OAAQ,WACRC,YAAa,SACbC,gBAAgB,EAChBC,0BAA2B,MAC3BC,cAAc,EACdC,oBAAoB,EACpBC,WAAY,GACZC,UAAW,WACXC,WAAY,YACZC,eAAe,EACfC,aAAa,EACbC,SAAU,EACVC,SAAS,EACTC,yBAAyB,QAMnCjF,EAAO6C,UAAUqC,uCACf,aACA5B,GAGFtD,EAAO6C,UAAUsC,+BAA+B,aAAc,CAC5DC,uBAAwB,SAAU9D,EAAO+D,GACvC,IAAIC,EAAOhE,EAAMiE,qBAAqBF,GAClC7B,EAAQ,CACVgC,gBAAiBH,EAASI,WAC1BC,cAAeL,EAASI,WACxBE,YAAaL,EAAKK,YAClBC,UAAWN,EAAKM,WAElB,MAAO,CACLC,YAAa,CACX,CACEC,MAAO,MACPC,KAAM/F,EAAO6C,UAAUmD,mBAAmBC,SAC1CC,cAAe,cACfC,WAAY,kBACZC,gBACEpG,EAAO6C,UAAUwD,6BACdC,gBACL9C,MAAOA,GAET,CACEsC,MAAO,QACPC,KAAM/F,EAAO6C,UAAUmD,mBAAmBC,SAC1CC,cAAe,gBACfC,WAAY,oBACZC,gBACEpG,EAAO6C,UAAUwD,6BACdC,gBACL9C,MAAOA,GAET,CACEsC,MAAO,YACPC,KAAM/F,EAAO6C,UAAUmD,mBAAmBC,SAC1CC,cAAe,cACfC,WAAY,yCACZC,gBACEpG,EAAO6C,UAAUwD,6BACdC,gBACL9C,MAAOA,QAMjBzB,KAEFwE,UAAW,IACP3G,OAMGH,Q,oCCnPF+G,EAAmB,SAAnBA,EACXC,GAMI,IAFJC,EAEG,uDAFqB,EACxBC,EACG,uDADkB,GAmBrB,OAjBAF,EAAMG,SAAQ,SAACC,GAAU,IACfC,EAA0BD,EAA1BC,YAAaC,EAAaF,EAAbE,SACrB,GAA2B,kBAAhBD,GAA4BC,IAAaL,EAClDC,EAASK,KAAKF,OACT,CACLH,EAASK,KACNF,EACEA,aAHA,IAMHG,EACEH,EADFG,KAEEA,GACFT,EAAiBS,EAAMP,EAAeC,OAIrCA,G,kBCpBF,SAASO,IAA2C,IAanDC,EAbqBC,EAA6B,uDAAvB,EAAGC,EAAoB,uDAAZ,GACtCC,EAAQ,uDAAuDC,MACnE,IAEIC,EAAkB,GACpBC,EAAI,EAGR,GAFAJ,EAAQA,GAASC,EAAMI,OAEnBN,EAEF,IAAKK,EAAI,EAAGA,EAAIL,EAAKK,IAAKD,EAAMC,GAAKH,EAAM,EAAKK,KAAKC,SAAWP,QAYhE,IALAG,EAAM,GAAKA,EAAM,IAAMA,EAAM,IAAMA,EAAM,IAAM,IAC/CA,EAAM,IAAM,IAIPC,EAAI,EAAGA,EAAI,GAAIA,IACbD,EAAMC,KACTN,EAAI,EAAqB,GAAhBQ,KAAKC,SACdJ,EAAMC,GAAKH,EAAY,KAANG,EAAgB,EAAJN,EAAW,EAAMA,IAKpD,OAAOK,EAAMK,KAAK,I,sBC3BLC,EAPiC,SAAC,GAAiB,oBAChE,OACE,mCACE,qBAAKnH,MAAO,CAAEoH,OAAO,YAAaC,OAAO,uB,oCCA/CC,iBAAqB,gBAAgB,WACnC,IAAMC,EAAY,SAACC,GACjB,IAAMC,EAAOlB,IACPmB,EAAiBC,IAASC,IAAT,UAAgBH,EAAhB,OACjBI,EAAYF,IAASC,IAAT,uBACTH,EADS,6GAGlBK,IAASN,EAAKO,MAAMnG,KAHF,kMAUZoG,EAAgBR,EAAKO,KAAKE,KAAKA,KACrCD,EAAOE,QAAQL,GACfG,EAAOE,QAAQR,GAIf,IAFA,IAAMS,EAAaR,IAASC,IAAT,cAAoBH,EAApB,OACbW,EAAaZ,EAAKa,OAAOJ,KACtBnB,EAAI,EAAGA,EAAIsB,EAAWrB,OAAQD,IAAK,CAE1C,GADasB,EAAWtB,KACXU,EAAKO,KAAM,CAEtBK,EAAWE,OAAOxB,EAAG,EAAGqB,GACxB,SAIN,MAAO,CACLI,QAAS,CACPC,eAAgBjB,EAChBkB,iBAAkBlB,EAClBmB,eAAgBnB,EAChBoB,eAAgBpB,EAChBqB,aAAcrB,O,sBCjBnBsB,IAAUC,kBAA0BC,WAAW,CAC9C,oBAAqB,yDAGvB,IAsCMC,EAAc,CAElBH,WAAW,EACXI,SAAU,WACVC,QAAS,CAAC,aAAc,SACxB7F,QAAS,CAEP,0BACA,6BACA,CACE,6BACA,CACE8F,SAAU,YAGd,CACE,sBACA,CACEC,QAAQ,IAGZ,CAAC,4BAA6B,CAAEC,OAAO,MAGrCC,EAAO,uCAAG,WAAOC,GAAP,SAAAC,EAAA,+EACPC,MAAMF,GAAKG,MAAK,SAACC,GAAD,OAASA,EAAI5G,WADtB,2CAAH,sDAqgBE6G,EAzfmB,SAAC,GAU5B,IAAD,IATJC,QAASC,OASL,MATgB,GAShB,MARJlI,KAAMmI,OAQF,MARU,GAQV,MAPJC,OAAQC,OAOJ,MAPc,GAOd,EANJxJ,EAMI,EANJA,UAMI,IALJyJ,kBAKI,MALS,GAKT,EAJJlL,EAII,EAJJA,SAII,IAHJmL,uBAGI,cADDlL,GACC,EAFJmL,gBAEI,oHACE3C,EH9GO,WAA0B,IAAzBhB,EAAwB,uDAAlB,EAAGC,EAAe,uDAAP,GAC/B,OAAOvH,iBAAOoH,EAAaE,EAAMC,IAASlH,QG6G7B6K,GACPC,EAAO,aAAS7C,GAChB8C,EAAQ,8HAGaD,EAHb,6BAG0C7C,EAH1C,sKAOa6C,EAPb,gCAO6C7C,EAP7C,iIAWa6C,EAXb,gCAW6C7C,EAX7C,mCAHV,EAkB0C+C,mBAA2B,IAlBrE,mBAkBGC,EAlBH,KAkBoBC,EAlBpB,OAmBoBF,qBAnBpB,mBAmBGG,EAnBH,KAmBSC,EAnBT,OAoB0BJ,oBAAkB,GApB5C,mBAoBGK,EApBH,KAoBYC,EApBZ,OAqB0BN,mBAAmBV,GArB7C,mBAqBGD,GArBH,KAqBYkB,GArBZ,QAsBwBP,mBAAkBP,GAtB1C,qBAsBGD,GAtBH,MAsBWgB,GAtBX,SAuB4BR,qBAvB5B,qBAuBGS,GAvBH,MAuBaC,GAvBb,MAwBEC,GAAchM,iBAAe,IAC7BiM,GAAUjM,iBAAe,IACzBkM,GAAUlM,mBACVqB,GAAO8K,mBAAQ,WACnB,OAAO9J,OAAO+J,YACZ1B,GAAQnI,KAAI,SAAC8J,GAAD,MAAO,CAACA,EAAE7J,KAAM6J,EAAEC,aAAWC,OAAOC,YAEjD,CAAC9B,KACE+B,GAAMC,sBAAW,uCAAC,WAAOjK,GAAP,mDAAA4H,EAAA,sEAEpBkB,GAAmB,iBAAM,MAMzBrL,SAAcyM,gBAAgBC,GAAUvM,QAASmB,MAAO,MAAO,IAR3C,SASEtB,YAAiBgC,WAAW2K,sBAT9B,cASdC,EATc,gBAUCA,IAVD,cAUdC,EAVc,iBAYZA,EAAOC,uBACX9M,MAAWyB,KAAK,aAAasL,YAbb,WAWdtG,EAXc,OAelB4F,QAAO,SAACF,GAAD,OAAsB,IAAfA,EAAEpF,eACZJ,EAAWH,EAAiBC,IACrBiB,OAAS,GAjBF,uBAkBZsF,EAASrG,EAASkB,KAAK,MACvB,IAAIoF,MAAMD,GAnBE,WAqBZ,OAARrN,QAAQ,IAARA,KAAW4C,GAOL2K,EAAgBjF,YAAA,UAAmB1F,GAAnB,2BACjBoH,GADiB,IAEpBE,QAAQ,GAAD,mBAAMF,EAAYE,SAAlB,CAA2B,WAClC7F,QAAQ,CACN,gBADK,mBAEF2F,EAAY3F,SAFV,CAGL,kCAGJmJ,QAAQC,IAAI,gBAAiBF,GAEvBG,EAvCc,oBAwChBH,EAAc3K,KAxCE,WA2Cd+K,EA3Cc,UA4ClBxM,GAAIX,eA5Cc,iBA4ClB,EAAaoN,qBA5CK,aA4ClB,EAA4BD,SA5CV,mDAgDdE,EAAW,IAAIC,KAAK,CAACJ,GAAe,CAAEK,KAAM,oBAC5CC,EAAMC,IAAIC,gBAAgBL,GAEhCjC,GAAQ,iBAAO,CAAEuC,aAAcZ,EAAc7K,IAAKsL,WAClD,OAAIL,QAAJ,IAAIA,OAAJ,EAAIA,EAAUS,SAAS,KACrBT,EAASU,YAAYV,EAASS,SAAS,IAGzCT,EAASW,YAAYX,EAASY,cAAc,SAC5CZ,EAASa,gBAAgBC,UAAzB,6DAE6BrC,GAAQ5L,QAFrC,8EAIOkO,KAAKC,UAAU,CAAEtC,QAASA,GAAQ7L,UAJzC,oIAmBMoO,EAAgBjB,EAASY,cAAc,WAC/BR,KAAO,kBACrBa,EAAcH,UAAYnG,YAAgBiD,EAAUvB,GAAapH,KACjE+K,EAASa,gBAAgBF,YAAYM,IAI/BC,EAAkBlB,EAASY,cAAc,WAC/BR,KAAO,kBACvBc,EAAgBJ,UAAYnG,YAAA,UAAmB4C,GAAnB,2BACvBlB,GADuB,IAE1BE,QAAQ,GAAD,mBAAMF,EAAYE,SAAlB,CAA2B,WAClC7F,QAAQ,YAAK2F,EAAY3F,YACxBzB,KACH+K,EAASa,gBAAgBF,YAAYO,IAI/BC,EAASnB,EAASY,cAAc,WAC/BR,KAAO,kBACde,EAAOL,UAAYtC,GAAY3L,QAC/BmN,EAASa,gBAAgBF,YAAYQ,IAI/BC,EAAKpB,EAASY,cAAc,WAC/BR,KAAO,kBACVgB,EAAGN,UAAH,oCACoBT,EADpB,8MAMmC1C,EANnC,6BAMgE7C,EANhE,0FAWAkF,EAASa,gBAAgBF,YAAYS,GAlHjB,qDAqHdpB,EArHc,UAsHlBxM,GAAIX,eAtHc,iBAsHlB,EAAaoN,qBAtHK,aAsHlB,EAA4BD,SAtHV,mDA0HhBA,EAASS,SAAS,IACpBT,EAASU,YAAYV,EAASS,SAAS,IAEzCT,EAASW,YAAYX,EAASY,cAAc,SAC5CZ,EAASa,gBAAgBC,UAAzB,sRA9HoB,sGAAD,sDA6IpB,IACGO,GAAmBnC,uBAAY,SAACoC,GACpC,IAAMC,EAA0BD,EAAGE,OACnCzD,GAAmB,SAACD,GAAD,4BAAyBA,GAAzB,CAA0CyD,SAC5D,IACGE,GAAgBvC,sBAAW,uCAC/B,WAAOoC,GAAP,qCAAAzE,EAAA,yDAEyB,UAAnByE,EAAGE,OAAOpB,MAAoBpC,EAAMqC,MAAQiB,EAAGE,OAAOE,KAAKC,OAFjE,sBAGkCL,EAAGE,OAAOE,KAAlCE,EAHV,EAGUA,KAAMC,EAHhB,EAGgBA,OAAQC,EAHxB,EAGwBA,WACPC,IAATH,QAAiCG,IAAXF,IAAwBC,EAJtD,iBAKYE,EAAQF,EAAME,MACd3B,EAAMrC,EAAMqC,IACZ4B,EAAWD,EAAME,QAAQ7B,EAAM,KACrCuB,EAAO,GACPC,EAAS,GACLM,GAAS,EACJhI,EAAI8H,EAAW5B,EAAIjG,OAAS,EAX3C,aAW8CD,EAAI6H,EAAM5H,QAXxD,oBAaoB,OADNgI,EAAMJ,EAAM7H,IAZ1B,wDAgBoB,MAARiI,EAhBZ,wBAiBUD,GAAS,EAjBnB,gCAoBYA,EACFP,GAAQQ,EAERP,GAAUO,EAvBpB,QAWgEjI,IAXhE,wBA0BMyH,EAAOS,OAAOT,GACdC,EAASQ,OAAOR,GA3BtB,eA6BID,IACAC,IA9BJ,UA+B2B,IAAI3F,IAAUC,kBACnC6B,EAAMwC,cAhCZ,QA+BU8B,EA/BV,OAkCUC,EAAiBD,EAASE,oBAAoB,CAClDZ,OACAC,WAEFS,EAASG,UAST/P,SAAcyM,gBAAgBC,GAAUvM,QAASmB,MAAO,MAAO,CAC7D,CACEqE,YAAakK,EAAeV,OAC5BvJ,UAAWiK,EAAeV,OAC1B3J,gBAAiBqK,EAAeX,KAChCxJ,cAAemK,EAAeX,KAC9Bc,SAAU,EACVnB,QAASO,EAAMP,WAtDvB,4CAD+B,sDA4D/B,CAACvD,IAEG2E,GAAuBzD,uBAC3B,SAACsC,GACC,IAAMtO,EAAQ,IAAI0P,YAAJ,UAAwBjF,EAAxB,YAA2C,CAAE6D,WAC3DqB,OAAOC,cAAc5P,KAEvB,CAACyK,IAEGoF,GAAoB7D,uBACxB,SAACsC,GACC,IAAMtO,EAAQ,IAAI0P,YAAJ,UAAwBjF,EAAxB,SAAwC,CAAE6D,WACxDqB,OAAOC,cAAc5P,KAEvB,CAACyK,IAEHlL,qBAAU,WAMR,OALAoQ,OAAO,YAAD,OAAalF,EAAb,aAAkCgF,GACxCE,OAAO,YAAD,OAAalF,EAAb,UAA+BoF,GACrCF,OAAOG,iBAAP,UAA2BrF,EAA3B,YAA8C0D,IAC9CwB,OAAOG,iBAAP,UAA2BrF,EAA3B,SAA2C8D,IAEpC,WACLoB,OAAOI,oBAAP,UAA8BtF,EAA9B,YAAiD0D,IACjDwB,OAAOI,oBAAP,UAA8BtF,EAA9B,SAA8C8D,OAE/C,CACDkB,GACAI,GACApF,EACA0D,GACAI,KAEFhP,qBAAU,WACR,sBAAC,gCAAAoK,EAAA,sEAGSqG,EAAoB,CACxB,CACElO,KAAM,WACN4H,IAAK,gDACL3H,KAAK,OAAD,OAASkO,IAAT,gBAEN,CACEnO,KAAM,qBACN4H,IAAK,oDACL3H,KAAMmO,MAZb,SAe4BC,QAAQC,IAC/BpG,GAAQnI,IAAR,uCAAY,WAAOwO,GAAP,iBAAA1G,EAAA,sEACSF,EAAQ4G,EAAO3G,KADxB,UACJ3H,EADI,OAEVsO,EAAOtO,KAAOA,GACVsO,EAAO1N,MAHD,gCAIgBwN,QAAQC,IAC9BC,EAAO1N,MAAMd,IAAb,uCAAiB,WAAOsL,GAAP,SAAAxD,EAAA,sEAAqBF,EAAQ0D,GAA7B,mFAAjB,wDALM,OAIFmD,EAJE,OAORD,EAAOzE,SAAW0E,EAAUjJ,KAAK,KAPzB,gCASHgJ,GATG,4CAAZ,wDAhBL,cAeSE,EAfT,gBA4B2BJ,QAAQC,IAC9BjG,GAAOtI,IAAP,uCAAW,WAAO1B,GAAP,eAAAwJ,EAAA,sEACUF,EAAQtJ,EAAMqQ,MADxB,cACHzO,EADG,OAET5B,EAAM4B,KAAOA,EAFJ,kBAGF5B,GAHE,2CAAX,wDA7BL,OA4BSsQ,EA5BT,OAmCGjF,GAAQ7L,QAAUgC,OAAO+J,YACvB6E,EAAW1O,KAAI,SAAC8J,GAAD,MAAO,CACpBA,EAAE7J,KACFsL,IAAIC,gBACF,IAAIJ,KAAK,CAACtB,EAAE5J,MAAQ,IAAK,CAAEmL,KAAM,0BAIvC3B,GAAQ5L,QAAU8Q,EAAU5O,KAAI,SAAC8J,GAAD,OAAOA,EAAE5J,QAAMsF,KAAK,IACpD6D,GAAW,YAAIqF,IACfpF,GAAU,YAAIsF,IACdnF,GAAY3L,QAAUqQ,EAAQnO,KAAI,SAAC8J,GAAD,OAAOA,EAAE5J,QAAMsF,KAAK,KA9CzD,yBAgDG4D,GAAW,GAhDd,0EAAD,KAoDC,IAEH,IAAM3K,GAAMhB,iBAA0B,MAChC4M,GAAY5M,iBAAsB,MAClCoR,GAAepR,iBAAuB,MAxUxC,GAyU8CqL,mBAAiB,MAzU/D,qBAyUGgG,GAzUH,MAyUsBC,GAzUtB,SA0U0CjG,mBAAiB,MA1U3D,qBA0UGkG,GA1UH,MA0UoBC,GA1UpB,MA2UEC,GAAW/E,uBAAY,WAC3B4E,GACEF,GAAa/Q,QAASqR,YAjaA,IAmaxBF,GAAmBJ,GAAa/Q,QAASsR,aAlanB,MAmarB,IAhVC,GAiVsCtG,mBAAiB,GAjVvD,qBAiVGuG,GAjVH,MAiVkBC,GAjVlB,MAkVEC,GAAoB,SAACC,GACzBF,GAAiBE,EAvaO,KAyb1B,OAhBA9R,qBAAU,WACR,IAAIa,EAAS,EAab,MAZ+B,kBAApBkK,EACLA,EAAgBgH,SAAS,OAC3BlR,EACEsQ,GAAa/Q,QAASsR,cACrB,EAAIM,WAAWjH,EAAgBkH,QAAQ,IAAK,KAAO,MAEpB,kBAApBlH,IAChBlK,EAASsQ,GAAa/Q,QAASsR,aAAe3G,GAEhD8G,GAAkBhR,GAClB2Q,KACApB,OAAOG,iBAAiB,SAAUiB,IAC3B,kBAAMpB,OAAOI,oBAAoB,SAAUgB,OACjD,CAACA,GAAUzG,IAEZ,mCACE,qBACEmH,UAAU,WACVnR,IAAKoQ,GACLvQ,MAAO,CAAEuR,WAAY,OAAQtR,OAAO,SAHtC,SAKE,eAAC,IAAD,CACEuR,cAAe,kBAAMtG,IAAY,IACjCuG,eAAgB,kBAAMvG,IAAY,IAClCwG,WAAY,CAAEhN,SAAU,YACxBiN,WAAY,CAAEjN,SAAU,YACxBkC,MAAM,WACNgL,YAAW,MACXC,QAAS,EACTC,QAAStB,GARX,UAUE,qBAAKxQ,MAAO,CAAEC,OAAO,QAArB,UACI4K,GACA,cAAC,EAAWzK,WAAZ,aACED,IAAK4L,GACLxL,aAAcwJ,EACdvJ,KAAMA,GACNC,UAAWA,EACXzB,SAAU+S,IAASnG,GAAK,MACpB3M,KAR0B,QAYpC,eAAC,IAAD,CACED,SAAU,SAACiB,GACTgR,GAAkBV,GAAa/Q,QAASsR,aAAe7Q,IAEzDuR,cAAe,kBAAMtG,IAAY,IACjCuG,eAAgB,kBAAMvG,IAAY,IAClCwG,WAAY,CAAEhN,SAAU,YACxBkC,MAAM,aACNgL,YAAazH,EACb2H,QAASpB,GACTmB,QAAS,EAVX,UAYE,qBAAmB7R,MAAO,CAAEE,MAAM,QAAlC,UACI2K,GACA,wBACE7K,MAAO,CACLC,OAAO,OACPC,MAAM,OACN8R,cAAe/G,GAAW,OAAS,WAErCgH,MAAM,aACN9R,IAAKA,MATF,WAaT,qBAEEH,MAAO,CACLC,OAAQ8Q,GACRmB,SAAU,OACVC,QAAS,EACTC,UAAW,cANf,SASG3H,EACEiB,QAAO,SAACwC,GAAD,OAAaA,EAAQG,KAAKtH,OAAS,KAC1CrF,KAAI,SAACwM,EAASpH,GAAV,OACH,eAAC,IAAMuL,SAAP,WACGnE,EAAQG,KAAK3M,KAAI,SAAC2M,EAAMvH,GAIvB,OACE,sBAAK9G,MAAO,CAAEsS,cAAe,GAA7B,UACmB,kBAATjE,GACW,UAAjBH,EAAQnB,MACRsB,GAAQ,qBAAKrO,MAAO,CAAEuS,MAAO,OAArB,SAA+BlE,IACxB,kBAATA,GACW,QAAjBH,EAAQnB,MACRsB,GACE,cAAC,IAAD,CACErO,MAAO,CAAE0E,SAAU,UACnB8N,WAAS,EACT7Q,KAAM,KAEN4H,IAAK8E,GALP,aAIavH,IAIA,kBAATuH,GACW,UAAjBH,EAAQnB,MACRsB,GACE,cAAC,IAAD,CACErO,MAAO,CAAE0E,SAAU,UACnB8N,WAAW,EACX7Q,KAAM,QAEN4H,IAAK,CACH2E,QAASG,EAAKH,QACdS,MAAON,EAAKM,QAPhB,aAIa7H,IAOP,OAATuH,GACC,sBAAMrO,MAAO,CAAEuS,MAAO,UAAtB,mBAEgB,kBAATlE,GACS,kBAATA,IACU,QAAjBH,EAAQnB,MAAkB,8BAAMsB,IACjB,kBAATA,GACN,sBAAMrO,MAAO,CAAEuS,MAAO,OAAtB,SACGlE,EAAKjC,aAGO,oBAATiC,GACN,sBAAMrO,MAAO,CAAEuS,MAAO,QAAtB,SACGlE,EAAKjC,aAGO,qBAATiC,GACN,sBAAMrO,MAAO,CAAEuS,MAAO,WAAtB,uBAEe,mBAATlE,GACN,sBAAMrO,MAAO,CAAEuS,MAAO,QAAtB,SACGlE,EAAKjC,eAlDZ,aAA6CtF,OAwDhDA,IAAM2D,EAAgB1D,OAAS,GAAK,cAAC,EAAD,MA9DvC,aAA2BD,QAX3B,sBCvgBZ2L,EAAU,SAkCDC,EAjCE,WACf,OACE,cAAC,EAAD,CACE1I,OAAQ,CAAC,CAAEqG,KAAK,0BAAD,OAA4BoC,EAA5B,wBACf7Q,KCTS,0lJDUTnB,UAAWkS,EAAQ,KAAenQ,MAClCqH,QAAS,CACP,CACElI,KAAM,QACN4H,IAAK,sDACL/G,MAAO,CACL,mDACA,sDAIJ,CACEb,KAAM,YACN4H,IAAK,8DACL/G,MAAO,CAAC,yDAEV,CACEb,KAAM,SACN4H,IAAK,4BAEP,CACE5H,KAAM,OACN4H,IAAI,0BAAD,OAA4BkJ,QET1BG,EAhBqB,SAAC,GAAiB,oBAAC,IAAD,EAClCpI,mBAAiBqI,aAAaC,QAAQ,aAAe,IADnB,mBAC7CC,EAD6C,UAEpD,OACE,mCACE,cAAC,EAAD,CACE5I,gBAAiB,EACjBvI,KAAMmR,GCbC,oaDcP/T,SAAU,SAAC+T,GACTF,aAAaG,QAAQ,WAAYD,IAEnCzS,KEjBO,ghCFkBP4J,WGlBO,ohECmBA0I,EAZqB,SAAC,GAAiB,oBACpD,OACE,mCACE,cAAC,EAAD,CACEzI,gBAAiB,EACjBvI,KCZO,yEDaPtB,KEbO,ghCFcP4J,WGdO,ohEC2BA+I,MApBf,WACE,OACE,mCACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAAC1L,KAAK,IAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAO0L,OAAK,EAAC1L,KAAK,YAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAO0L,OAAK,EAAC1L,KAAK,aAAlB,SACE,cAAC,EAAD,cCLG2L,EAZS,SAACC,GACnBA,GAAeA,aAAuB9N,UACxC,+BAAqBoE,MAAK,YAAkD,IAA/C2J,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOD,GACPE,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAQL,OCHdM,IAASC,OACP,cAAC,EAAD,IACAhH,SAASiH,eAAe,SAM1BT,M","file":"static/js/main.651bc6ce.chunk.js","sourcesContent":["import {\r\n  FC,\r\n  useRef,\r\n  useEffect,\r\n  forwardRef,\r\n  useImperativeHandle,\r\n} from \"react\";\r\nimport * as monaco from \"monaco-editor\";\r\nimport * as monacoEditor from \"monaco-editor/esm/vs/editor/editor.api\";\r\nimport prettier from \"prettier/standalone\";\r\nimport babel from \"prettier/parser-babel\";\r\nimport gql from \"prettier/parser-graphql\";\r\nimport ts from \"prettier/parser-typescript\";\r\nexport interface CodeEditorProps\r\n  extends monaco.editor.IStandaloneEditorConstructionOptions {\r\n  beforeMount?(monaco: typeof monacoEditor);\r\n  didMount?(\r\n    editor: monaco.editor.IStandaloneCodeEditor,\r\n    monaco: typeof monacoEditor\r\n  );\r\n  onChange?(code: string, event?: monaco.editor.IModelContentChangedEvent);\r\n  defaultValue?: string;\r\n}\r\nconst CodeEditor: FC<CodeEditorProps> & { TypeScript: typeof TypeScript } = ({\r\n  beforeMount,\r\n  onChange,\r\n  ...props\r\n}) => {\r\n  const container = useRef<HTMLDivElement>(null);\r\n  useEffect(() => {\r\n    beforeMount?.(monaco);\r\n    const editor = monaco.editor.create(container.current!, {\r\n      automaticLayout: true,\r\n      minimap: { enabled: false },\r\n      ...props,\r\n    });\r\n    editor.onDidChangeModelContent((event) => {\r\n      onChange?.(editor.getValue(), event);\r\n    });\r\n    return () => {\r\n      editor.dispose();\r\n    };\r\n  }, []);\r\n  return (\r\n    <>\r\n      <div style={{ height: `100%`, width: `100%` }} ref={container} />\r\n    </>\r\n  );\r\n};\r\nexport interface TypeScriptProps extends CodeEditorProps {\r\n  /**\r\n   * ts编辑器外置库\r\n   */\r\n  libs?: { [key: string]: string };\r\n  /**\r\n   * ts自定义d.ts\r\n   */\r\n  extraLibs?: { [key: string]: string };\r\n  /**\r\n   * node_module种的code\r\n   */\r\n  libCode?: { [key: string]: string };\r\n  /**\r\n   * 定义\r\n   */\r\n  defs?: string;\r\n}\r\ninterface ModelRef {\r\n  model: monaco.editor.ITextModel;\r\n  monaco: typeof monaco;\r\n}\r\nexport interface TypeScriptRef extends ModelRef {}\r\nconst TypeScript = forwardRef<TypeScriptRef, TypeScriptProps>(\r\n  (\r\n    {\r\n      defs = \"\",\r\n      defaultValue = ``,\r\n      libs = {},\r\n      extraLibs = {},\r\n      libCode = {},\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const model = useRef<monaco.editor.ITextModel>();\r\n    const monacoRef = useRef<typeof monaco>();\r\n    if (!model.current) {\r\n      //   debugger\r\n      const uri = monaco.Uri.file(\"/main.tsx\");\r\n      const ifExsitModel = monaco.editor.getModel(uri);\r\n      // debugger\r\n      if (ifExsitModel && !ifExsitModel?.isDisposed()) {\r\n        model.current = ifExsitModel;\r\n      } else {\r\n        model.current = monaco.editor.createModel(\r\n          defaultValue,\r\n          \"typescript\",\r\n          uri\r\n        );\r\n      }\r\n    }\r\n    useImperativeHandle(ref, () => ({\r\n      model: model.current!,\r\n      monaco: monacoRef.current!,\r\n    }));\r\n    useEffect(() => {\r\n      return () => {\r\n        model.current?.dispose();\r\n      };\r\n    }, []);\r\n    const loadLibs = () => {\r\n      monaco.languages.typescript.typescriptDefaults.addExtraLib(\r\n        defs,\r\n        `file:///node_modules/@types/index.d.ts`\r\n      );\r\n      Object.entries(libs).map(([name, code]) => {\r\n        monaco.languages.typescript.typescriptDefaults.addExtraLib(\r\n          code,\r\n          `file:///node_modules/@types/${name}/index.d.ts`\r\n        );\r\n      });\r\n      Object.entries(extraLibs).map(([name, code]) => {\r\n        monaco.languages.typescript.typescriptDefaults.addExtraLib(\r\n          code,\r\n          `file:///node_modules/@types/${name}`\r\n        );\r\n      });\r\n    };\r\n    useEffect(() => {\r\n      loadLibs();\r\n      props.onChange?.(model.current?.getValue()!);\r\n      return () => {};\r\n    }, [libs]);\r\n    return (\r\n      <CodeEditor\r\n        model={model.current}\r\n        didMount={() => {}}\r\n        beforeMount={(monaco) => {\r\n          monacoRef.current = monaco;\r\n          const compilerDefaults: monaco.languages.typescript.CompilerOptions = {\r\n            baseUrl: \"file:///node_modules/@types/\",\r\n            allowSyntheticDefaultImports: true,\r\n            jsx: monaco.languages.typescript.JsxEmit.React,\r\n            experimentalDecorators: true,\r\n            noEmit: true,\r\n            allowJs: true,\r\n            types: [\"react\"],\r\n          };\r\n\r\n          monaco.languages.typescript.typescriptDefaults.setCompilerOptions(\r\n            compilerDefaults\r\n          );\r\n\r\n          monaco.languages.typescript.typescriptDefaults.setEagerModelSync(\r\n            true\r\n          );\r\n          const prettierOptions = {\r\n            provideDocumentFormattingEdits(model) {\r\n              return [\r\n                {\r\n                  range: model.getFullModelRange(),\r\n                  text: prettier.format(model.getValue(), {\r\n                    trailingComma: \"all\",\r\n                    jsxSingleQuote: false,\r\n                    semi: true,\r\n                    plugins: [babel, ts, gql],\r\n                    parser: \"babel-ts\",\r\n                    arrowParens: \"always\",\r\n                    bracketSpacing: true,\r\n                    htmlWhitespaceSensitivity: \"css\",\r\n                    insertPragma: false,\r\n                    jsxBracketSameLine: true,\r\n                    printWidth: 80,\r\n                    proseWrap: \"preserve\",\r\n                    quoteProps: \"as-needed\",\r\n                    requirePragma: false,\r\n                    singleQuote: false,\r\n                    tabWidth: 2,\r\n                    useTabs: false,\r\n                    vueIndentScriptAndStyle: false,\r\n                  }),\r\n                },\r\n              ];\r\n            },\r\n          };\r\n          monaco.languages.registerDocumentFormattingEditProvider(\r\n            \"typescript\",\r\n            prettierOptions\r\n          );\r\n\r\n          monaco.languages.registerCompletionItemProvider(\"typescript\", {\r\n            provideCompletionItems: function (model, position) {\r\n              var word = model.getWordUntilPosition(position);\r\n              var range = {\r\n                startLineNumber: position.lineNumber,\r\n                endLineNumber: position.lineNumber,\r\n                startColumn: word.startColumn,\r\n                endColumn: word.endColumn,\r\n              };\r\n              return {\r\n                suggestions: [\r\n                  {\r\n                    label: \"log\",\r\n                    kind: monaco.languages.CompletionItemKind.Function,\r\n                    documentation: \"console.log\",\r\n                    insertText: \"console.log($1)\",\r\n                    insertTextRules:\r\n                      monaco.languages.CompletionItemInsertTextRule\r\n                        .InsertAsSnippet,\r\n                    range: range,\r\n                  },\r\n                  {\r\n                    label: \"error\",\r\n                    kind: monaco.languages.CompletionItemKind.Function,\r\n                    documentation: \"console.error\",\r\n                    insertText: \"console.error($1)\",\r\n                    insertTextRules:\r\n                      monaco.languages.CompletionItemInsertTextRule\r\n                        .InsertAsSnippet,\r\n                    range: range,\r\n                  },\r\n                  {\r\n                    label: \"stringify\",\r\n                    kind: monaco.languages.CompletionItemKind.Function,\r\n                    documentation: \"console.log\",\r\n                    insertText: \"console.log(JSON.stringify($1,null,2))\",\r\n                    insertTextRules:\r\n                      monaco.languages.CompletionItemInsertTextRule\r\n                        .InsertAsSnippet,\r\n                    range: range,\r\n                  },\r\n                ],\r\n              };\r\n            },\r\n          });\r\n          loadLibs();\r\n        }}\r\n        scrollbar={{}}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nCodeEditor.TypeScript = TypeScript;\r\nexport default CodeEditor;\r\n","import * as monaco from \"monaco-editor\";\r\nexport const getDiagsMessages = (\r\n  diags: (\r\n    | monaco.languages.typescript.Diagnostic\r\n    | monaco.languages.typescript.DiagnosticMessageChain\r\n  )[],\r\n  cagegoryLevel: number = 1,\r\n  messages: string[] = []\r\n) => {\r\n  diags.forEach((diag) => {\r\n    const { messageText, category } = diag;\r\n    if (typeof messageText === \"string\" && category === cagegoryLevel) {\r\n      messages.push(messageText);\r\n    } else {\r\n      messages.push(\r\n        (messageText as monaco.languages.typescript.DiagnosticMessageChain)\r\n          .messageText\r\n      );\r\n      const {\r\n        next,\r\n      } = messageText as monaco.languages.typescript.DiagnosticMessageChain;\r\n      if (next) {\r\n        getDiagsMessages(next, cagegoryLevel, messages);\r\n      }\r\n    }\r\n  });\r\n  return messages;\r\n};\r\n","import { useRef } from \"react\";\r\n\r\nexport default (len = 8, radix = 16) => {\r\n  return useRef(generateUUID(len , radix )).current;\r\n};\r\n\r\nexport function generateUUID(len = 8, radix = 16): string {\r\n  const chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\".split(\r\n    \"\"\r\n  );\r\n  const value: string[] = [];\r\n  let i = 0;\r\n  radix = radix || chars.length;\r\n\r\n  if (len) {\r\n    // Compact form\r\n    for (i = 0; i < len; i++) value[i] = chars[0 | (Math.random() * radix)];\r\n  } else {\r\n    // rfc4122, version 4 form\r\n    let r;\r\n\r\n    // rfc4122 requires these characters\r\n    /* eslint-disable-next-line */\r\n    value[8] = value[13] = value[18] = value[23] = \"-\";\r\n    value[14] = \"4\";\r\n\r\n    // Fill in random data.  At i==19 set the high bits of clock sequence as\r\n    // per rfc4122, sec. 4.1.5\r\n    for (i = 0; i < 36; i++) {\r\n      if (!value[i]) {\r\n        r = 0 | (Math.random() * 16);\r\n        value[i] = chars[i === 19 ? (r & 0x3) | 0x8 : r];\r\n      }\r\n    }\r\n  }\r\n\r\n  return value.join(\"\");\r\n}\r\n","import React, { FC } from \"react\";\r\nexport interface ConsoleDividerProps {}\r\nconst ConsoleDivider: FC<ConsoleDividerProps> = ({ ...props }) => {\r\n  return (\r\n    <>\r\n      <div style={{ margin: `0 0 8px 0`,border:`1px solid #999` }} />\r\n    </>\r\n  );\r\n};\r\nexport default ConsoleDivider;\r\n","import { generateUUID } from \"./useUUID\";\r\nimport template from \"@babel/template\";\r\nimport generate from \"@babel/generator\";\r\nimport { parseExpression, parse } from \"@babel/parser\";\r\nimport * as Babel from \"@babel/standalone\";\r\nBabel.registerPlugin(\"maxium-count\", () => {\r\n  const DeadCycle = (path) => {\r\n    const uuid = generateUUID();\r\n    const uuidIncresment = template.ast(`${uuid}++`);\r\n    const uuidJudge = template.ast(`\r\n        if(${uuid}>999){\r\n          document.body.innerHTML=\\`<pre id=\"root\" style=\"color:red;font-weight:bold\" >\r\n  ${generate(path.node).code}\r\n  超出最大循环限制(max:999)\r\n          </pre>\\`;\r\n        \r\n          throw new Error('超出最大循环限制')\r\n        }\r\n      `);\r\n    const blocks: any[] = path.node.body.body;\r\n    blocks.unshift(uuidJudge);\r\n    blocks.unshift(uuidIncresment);\r\n    // const clearUUID = template.ast(`${uuid}=0`);\r\n    const insertUUID = template.ast(`let ${uuid}=0`);\r\n    const parentBody = path.parent.body;\r\n    for (let i = 0; i < parentBody.length; i++) {\r\n      const node = parentBody[i];\r\n      if (node === path.node) {\r\n        // parentBody.splice(i + 1, 0, clearUUID);\r\n        parentBody.splice(i, 0, insertUUID);\r\n        break;\r\n      }\r\n    }\r\n  };\r\n  return {\r\n    visitor: {\r\n      WhileStatement: DeadCycle,\r\n      DoWhileStatement: DeadCycle,\r\n      ForInStatement: DeadCycle,\r\n      ForOfStatement: DeadCycle,\r\n      ForStatement: DeadCycle,\r\n    },\r\n  };\r\n});\r\n","/* eslint-disable import/no-webpack-loader-syntax */\r\nimport React, {\r\n  FC,\r\n  useState,\r\n  useEffect,\r\n  useRef,\r\n  useCallback,\r\n  useMemo,\r\n} from \"react\";\r\nimport SplitPane from \"react-split-pane\";\r\nimport CodeEditor, { TypeScriptProps, TypeScriptRef } from \"./CodeEditor\";\r\nimport debounce from \"lodash.debounce\";\r\nimport \"./index.css\";\r\nimport * as monaco from \"monaco-editor\";\r\nimport * as Babel from \"@babel/standalone\";\r\nimport { getDiagsMessages } from \"./util\";\r\nimport systemjs from \"!raw-loader!systemjs/dist/system.js\";\r\nimport systemjsAmd from \"!raw-loader!systemjs/dist/extras/amd.min.js\";\r\nimport useUUID from \"./useUUID\";\r\nimport ReactJson from \"react-json-view\";\r\nimport ConsoleDivider from \"./ConsoleDivider\";\r\nimport \"./babelPlugins\";\r\nimport sourceMap from \"source-map\";\r\n(sourceMap.SourceMapConsumer as any).initialize({\r\n  \"lib/mappings.wasm\": \"https://unpkg.com/source-map@0.7.3/lib/mappings.wasm\",\r\n});\r\n\r\nconst HORIZONTAL_BAR_SIZE = 16;\r\nconst VERTICAL_BAR_SIZE = 16;\r\ninterface Script {\r\n  //作为importmap的key\r\n  name: string;\r\n  //加载路径\r\n  src?: string;\r\n  //加载代码，优先级最高\r\n  code?: string;\r\n  //ts类型\r\n  types?: string[];\r\n  typeCode?: string;\r\n}\r\n\r\ninterface Style {\r\n  href?: string;\r\n  code?: string;\r\n}\r\n/**\r\n * 沙盒属性，目前默认ts沙盒\r\n */\r\nexport interface SandboxProps extends TypeScriptProps {\r\n  scripts?: Script[];\r\n  styles?: Style[];\r\n  code?: string;\r\n  preExecute?: string;\r\n  onChange?(code: string);\r\n  wrapperFunction?(): string;\r\n  pageDefaultSize?: number | string;\r\n}\r\n\r\n/**\r\n * systemimports映射\r\n */\r\ninterface ImportsReflect {\r\n  [key: string]: string;\r\n}\r\n\r\nconst babelConfig = {\r\n  // sourceMaps:'both' ,\r\n  sourceMap: true,\r\n  filename: \"main.tsx\",\r\n  presets: [\"typescript\", \"react\"],\r\n  plugins: [\r\n    // \"maxium-count\",\r\n    \"proposal-do-expressions\",\r\n    \"proposal-optional-chaining\",\r\n    [\r\n      \"proposal-pipeline-operator\",\r\n      {\r\n        proposal: \"minimal\",\r\n      },\r\n    ],\r\n    [\r\n      \"proposal-decorators\",\r\n      {\r\n        legacy: true,\r\n      },\r\n    ],\r\n    [\"proposal-class-properties\", { loose: true }],\r\n  ],\r\n};\r\nconst getCode = async (src) => {\r\n  return fetch(src).then((res) => res.text());\r\n};\r\n\r\ninterface ConsoleMessage {\r\n  type: \"log\" | \"error\";\r\n  data: any[];\r\n}\r\ninterface SourceMapObject {\r\n  rawSourceMap;\r\n  url: string;\r\n}\r\nconst Sandbox: FC<SandboxProps> = ({\r\n  scripts: pScripts = [],\r\n  code: pCode = \"\",\r\n  styles: pStyles = [],\r\n  extraLibs,\r\n  preExecute = \"\",\r\n  onChange,\r\n  pageDefaultSize = `80%`,\r\n  wrapperFunction = (code) => code,\r\n  ...props\r\n}) => {\r\n  const uuid = useUUID();\r\n  const eventId = `sb_${uuid}`;\r\n  const pExecute = `\r\nwindow.onerror=function(message, source, line, column, error){\r\n  console.error(error)\r\n  window.parent[\\`dispatch_${eventId}_file\\`]({eventId:\"${uuid}\",type:\"error\",data:{message, source, line, column, error}})\r\n}\r\nwindow.console.log=null\r\nwindow.console.log=function(...data){\r\n  window.parent[\\`dispatch_${eventId}_console\\`]({eventId:\"${uuid}\",type:\"log\",data})\r\n}\r\nwindow.console.error=null\r\nwindow.console.error=function(...data){\r\n  window.parent[\\`dispatch_${eventId}_console\\`]({eventId:\"${uuid}\",type:\"error\",data})\r\n}\r\n;\r\n  `;\r\n  const [consoleMessages, setConsoleMessages] = useState<ConsoleMessage[]>([]);\r\n  const [smap, setSMap] = useState<SourceMapObject>();\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [scripts, setScripts] = useState<Script[]>(pScripts);\r\n  const [styles, setStyles] = useState<Style[]>(pStyles);\r\n  const [dragging, setDragging] = useState<boolean>();\r\n  const loadersCode = useRef<string>(\"\");\r\n  const cssCode = useRef<string>(\"\");\r\n  const imports = useRef<ImportsReflect>();\r\n  const libs = useMemo(() => {\r\n    return Object.fromEntries(\r\n      scripts.map((e) => [e.name, e.typeCode]).filter(Boolean)\r\n    );\r\n  }, [scripts]);\r\n  const run = useCallback(async (code) => {\r\n    try {\r\n      setConsoleMessages(() => []);\r\n      // const uri = monaco.Uri.file(\"/index.tsx\");\r\n      // const markers=monaco.editor.getModelMarkers({\r\n\r\n      // })\r\n      // console.log(markers);\r\n      monaco.editor.setModelMarkers(editorRef.current!.model, \"???\", []);\r\n      const _worker = await monaco.languages.typescript.getTypeScriptWorker();\r\n      const worker = await _worker();\r\n      const diags = (\r\n        await worker.getSemanticDiagnostics(\r\n          monaco.Uri.file(\"/main.tsx\").toString()\r\n        )\r\n      ).filter((e) => e.category === 1);\r\n      const messages = getDiagsMessages(diags);\r\n      if (messages.length > 0) {\r\n        const errors = messages.join(\"\\n\");\r\n        throw new Error(errors);\r\n      }\r\n      onChange?.(code);\r\n      // const babelPreCheck = Babel.transform(code, {\r\n      //   ...babelConfig,\r\n      //   plugins: [\"maxium-count\", ...babelConfig.plugins],\r\n      // });\r\n\r\n      // const preCheckCode = babelPreCheck.code;\r\n      const babelCompiled = Babel.transform(`${code}`, {\r\n        ...babelConfig,\r\n        presets: [...babelConfig.presets, \"es2015\"],\r\n        plugins: [\r\n          \"maxium-count\",\r\n          ...babelConfig.plugins,\r\n          \"transform-modules-systemjs\",\r\n        ],\r\n      });\r\n      console.log(\"babelCompiled\", babelCompiled);\r\n\r\n      const compiledCode = `\r\n        ${babelCompiled.code}\r\n     `;\r\n      //修复文档流\r\n      const document: Document | undefined =\r\n        ref.current?.contentWindow?.document;\r\n      if (!document) {\r\n        return;\r\n      }\r\n      const codeBlob = new Blob([compiledCode], { type: \"text/javascript\" });\r\n      const url = URL.createObjectURL(codeBlob);\r\n\r\n      setSMap(() => ({ rawSourceMap: babelCompiled.map, url }));\r\n      if (document?.children[0]) {\r\n        document.removeChild(document.children[0]);\r\n      }\r\n\r\n      document.appendChild(document.createElement(\"html\"));\r\n      document.documentElement.innerHTML = `\r\n        <head>\r\n          <style type=\"text/css\">${cssCode.current}</style>\r\n          <script type=\"systemjs-importmap\">\r\n           ${JSON.stringify({ imports: imports.current })}\r\n          </script>\r\n        </head>\r\n        <body>\r\n          <div id=\"root\">\r\n          </div>\r\n        </body>\r\n        `;\r\n      // process.env.NODE_ENV === \"development\" &&\r\n      //   console.log(\"preCheckCode\", preCheckCode);\r\n      // console.log(\"compiledCode\", compiledCode);\r\n\r\n      /**\r\n       * 预执行代码加载\r\n       */\r\n      const pExcuteScript = document.createElement(\"script\");\r\n      pExcuteScript.type = \"text/javascript\";\r\n      pExcuteScript.innerHTML = Babel.transform(pExecute, babelConfig).code;\r\n      document.documentElement.appendChild(pExcuteScript);\r\n      /**\r\n       * 预执行代码加载\r\n       */\r\n      const preExcuteScript = document.createElement(\"script\");\r\n      preExcuteScript.type = \"text/javascript\";\r\n      preExcuteScript.innerHTML = Babel.transform(`${preExecute}`, {\r\n        ...babelConfig,\r\n        presets: [...babelConfig.presets, \"es2015\"],\r\n        plugins: [...babelConfig.plugins],\r\n      }).code;\r\n      document.documentElement.appendChild(preExcuteScript);\r\n      /**\r\n       * loader代码加载\r\n       */\r\n      const loader = document.createElement(\"script\");\r\n      loader.type = \"text/javascript\";\r\n      loader.innerHTML = loadersCode.current;\r\n      document.documentElement.appendChild(loader);\r\n      /**\r\n       * 执行代码加载\r\n       */\r\n      const sc = document.createElement(\"script\");\r\n      sc.type = \"text/javascript\";\r\n      sc.innerHTML = `\r\n         System.import(\"${url}\");\r\n         System.onload=function(error, source, deps, isErrSource){\r\n          //  debugger\r\n           if(error){\r\n              console.error(error);\r\n              window.parent[\\`dispatch_${eventId}_file\\`]({eventId:\"${uuid}\",type:\"error\",data:{source, error}})\r\n           }\r\n           \r\n         }\r\n        `;\r\n      document.documentElement.appendChild(sc);\r\n      // setCode(code);\r\n    } catch (error) {\r\n      const document: Document | undefined =\r\n        ref.current?.contentWindow?.document;\r\n      if (!document) {\r\n        return;\r\n      }\r\n      if (document.children[0]) {\r\n        document.removeChild(document.children[0]);\r\n      }\r\n      document.appendChild(document.createElement(\"html\"));\r\n      document.documentElement.innerHTML = `\r\n        <head>\r\n          <style type=\"text/css\">\r\n            #root{\r\n              color:red;\r\n              font-weight:bold;\r\n            }\r\n          </style>\r\n        </head>\r\n        <body>\r\n          <pre id=\"root\" >${error}</pre>\r\n        </body>\r\n        `;\r\n    } finally {\r\n    }\r\n  }, []);\r\n  const onConsoleMessage = useCallback((ev) => {\r\n    const message: ConsoleMessage = ev.detail;\r\n    setConsoleMessages((consoleMessages) => [...consoleMessages, message]);\r\n  }, []);\r\n  const onFileMessage = useCallback(\r\n    async (ev) => {\r\n      // debugger\r\n      if (ev.detail.type === \"error\" && smap!.url === ev.detail.data.source) {\r\n        let { line, column, error } = ev.detail.data;\r\n        if (line === undefined && column === undefined && error) {\r\n          const stack = error.stack;\r\n          const url = smap!.url;\r\n          const urlIndex = stack.indexOf(url + \":\");\r\n          line = \"\";\r\n          column = \"\";\r\n          let isLine = true;\r\n          for (let i = urlIndex + url.length + 1; i < stack.length; i++) {\r\n            const num = stack[i];\r\n            if (num === \")\") {\r\n              break;\r\n            }\r\n            if (num === \":\") {\r\n              isLine = false;\r\n              continue;\r\n            }\r\n            if (isLine) {\r\n              line += num;\r\n            } else {\r\n              column += num;\r\n            }\r\n          }\r\n          line = Number(line);\r\n          column = Number(column);\r\n        }\r\n        line--;\r\n        column--;\r\n        const consumer = await new sourceMap.SourceMapConsumer(\r\n          smap!.rawSourceMap\r\n        );\r\n        const originPosition = consumer.originalPositionFor({\r\n          line,\r\n          column,\r\n        });\r\n        consumer.destroy();\r\n        // console.log(\"originPosition\", originPosition);\r\n        // console.log(\"line\", line);\r\n        // console.log(\"column\", column);\r\n        // console.log(\"error\", error);\r\n        // consumer.eachMapping(function (m) {\r\n        //   console.log(m);\r\n        // });\r\n        // debugger;\r\n        monaco.editor.setModelMarkers(editorRef.current!.model, \"???\", [\r\n          {\r\n            startColumn: originPosition.column!,\r\n            endColumn: originPosition.column!,\r\n            startLineNumber: originPosition.line!,\r\n            endLineNumber: originPosition.line!,\r\n            severity: 8,\r\n            message: error.message,\r\n          },\r\n        ]);\r\n      }\r\n    },\r\n    [smap]\r\n  );\r\n  const dispatchConsoleEvent = useCallback(\r\n    (detail) => {\r\n      const event = new CustomEvent<any>(`${eventId}_console`, { detail });\r\n      window.dispatchEvent(event);\r\n    },\r\n    [eventId]\r\n  );\r\n  const dispatchFileEvent = useCallback(\r\n    (detail) => {\r\n      const event = new CustomEvent<any>(`${eventId}_file`, { detail });\r\n      window.dispatchEvent(event);\r\n    },\r\n    [eventId]\r\n  );\r\n  useEffect(() => {\r\n    window[`dispatch_${eventId}_console`] = dispatchConsoleEvent;\r\n    window[`dispatch_${eventId}_file`] = dispatchFileEvent;\r\n    window.addEventListener(`${eventId}_console`, onConsoleMessage);\r\n    window.addEventListener(`${eventId}_file`, onFileMessage);\r\n\r\n    return () => {\r\n      window.removeEventListener(`${eventId}_console`, onConsoleMessage);\r\n      window.removeEventListener(`${eventId}_file`, onFileMessage);\r\n    };\r\n  }, [\r\n    dispatchConsoleEvent,\r\n    dispatchFileEvent,\r\n    eventId,\r\n    onConsoleMessage,\r\n    onFileMessage,\r\n  ]);\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        // setLoading(true);\r\n        const loaders: Script[] = [\r\n          {\r\n            name: \"systemjs\",\r\n            src: \"https://unpkg.com/systemjs/dist/system.min.js\",\r\n            code: `try{${systemjs}}catch(e){}`,\r\n          },\r\n          {\r\n            name: \"systemjs-extra-amd\",\r\n            src: \"https://unpkg.com/systemjs/dist/extras/amd.min.js\",\r\n            code: systemjsAmd,\r\n          },\r\n        ];\r\n        const newScripts = await Promise.all(\r\n          scripts.map(async (script) => {\r\n            const code = await getCode(script.src!);\r\n            script.code = code;\r\n            if (script.types) {\r\n              const typeCodes = await Promise.all(\r\n                script.types.map(async (url) => await getCode(url))\r\n              );\r\n              script.typeCode = typeCodes.join(\";\");\r\n            }\r\n            return script;\r\n          })\r\n        );\r\n        const newStyles = await Promise.all(\r\n          styles.map(async (style) => {\r\n            const code = await getCode(style.href!);\r\n            style.code = code;\r\n            return style;\r\n          })\r\n        );\r\n        imports.current = Object.fromEntries(\r\n          newScripts.map((e) => [\r\n            e.name,\r\n            URL.createObjectURL(\r\n              new Blob([e.code || \"\"], { type: \"text/javascript\" })\r\n            ),\r\n          ])\r\n        );\r\n        cssCode.current = newStyles.map((e) => e.code).join(\"\");\r\n        setScripts([...newScripts]);\r\n        setStyles([...newStyles]);\r\n        loadersCode.current = loaders.map((e) => e.code).join(\";\");\r\n      } finally {\r\n        setLoading(false);\r\n        // run(pCode);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const ref = useRef<HTMLIFrameElement>(null);\r\n  const editorRef = useRef<TypeScriptRef>(null);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const [horizontalMaxSize, setHorizontalMaxSize] = useState<number>(9999);\r\n  const [verticalMaxSize, setVerticalMaxSize] = useState<number>(9999);\r\n  const caclSize = useCallback(() => {\r\n    setHorizontalMaxSize(\r\n      containerRef.current!.clientWidth - HORIZONTAL_BAR_SIZE\r\n    );\r\n    setVerticalMaxSize(containerRef.current!.clientHeight - VERTICAL_BAR_SIZE);\r\n  }, []);\r\n  const [consoleHeight, setConsoleHeight] = useState<number>(0);\r\n  const caclConsoleHeight = (containerHeight) => {\r\n    setConsoleHeight(containerHeight - HORIZONTAL_BAR_SIZE);\r\n  };\r\n  useEffect(() => {\r\n    let height = 0;\r\n    if (typeof pageDefaultSize === \"string\") {\r\n      if (pageDefaultSize.includes(\"%\")) {\r\n        height =\r\n          containerRef.current!.clientHeight *\r\n          (1 - parseFloat(pageDefaultSize.replace(\"%\", \"\")) / 100);\r\n      }\r\n    } else if (typeof pageDefaultSize === \"number\") {\r\n      height = containerRef.current!.clientHeight - pageDefaultSize;\r\n    }\r\n    caclConsoleHeight(height);\r\n    caclSize();\r\n    window.addEventListener(\"resize\", caclSize);\r\n    return () => window.removeEventListener(\"resize\", caclSize);\r\n  }, [caclSize, pageDefaultSize]);\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"sand-box\"\r\n        ref={containerRef}\r\n        style={{ background: \"#fff\", height: `100vh` }}\r\n      >\r\n        <SplitPane\r\n          onDragStarted={() => setDragging(true)}\r\n          onDragFinished={() => setDragging(false)}\r\n          pane1Style={{ position: \"relative\" }}\r\n          pane2Style={{ position: \"relative\" }}\r\n          split=\"vertical\"\r\n          defaultSize={`50%`}\r\n          minSize={0}\r\n          maxSize={horizontalMaxSize}\r\n        >\r\n          <div style={{ height: `100%` }} key=\"code\">\r\n            {!loading && (\r\n              <CodeEditor.TypeScript\r\n                ref={editorRef}\r\n                defaultValue={pCode}\r\n                libs={libs}\r\n                extraLibs={extraLibs}\r\n                onChange={debounce(run, 800)}\r\n                {...props}\r\n              />\r\n            )}\r\n          </div>\r\n          <SplitPane\r\n            onChange={(height) => {\r\n              caclConsoleHeight(containerRef.current!.clientHeight - height);\r\n            }}\r\n            onDragStarted={() => setDragging(true)}\r\n            onDragFinished={() => setDragging(false)}\r\n            pane1Style={{ position: \"relative\" }}\r\n            split=\"horizontal\"\r\n            defaultSize={pageDefaultSize}\r\n            maxSize={verticalMaxSize}\r\n            minSize={0}\r\n          >\r\n            <div key=\"preview\" style={{ width: `100%` }}>\r\n              {!loading && (\r\n                <iframe\r\n                  style={{\r\n                    height: `100%`,\r\n                    width: `100%`,\r\n                    pointerEvents: dragging ? \"none\" : \"initial\",\r\n                  }}\r\n                  title=\"sb-preview\"\r\n                  ref={ref}\r\n                />\r\n              )}\r\n            </div>\r\n            <div\r\n              key=\"console\"\r\n              style={{\r\n                height: consoleHeight,\r\n                overflow: \"auto\",\r\n                padding: 8,\r\n                boxSizing: \"border-box\",\r\n              }}\r\n            >\r\n              {consoleMessages\r\n                .filter((message) => message.data.length > 0)\r\n                .map((message, i) => (\r\n                  <React.Fragment key={`msg${i}`}>\r\n                    {message.data.map((data, i) => {\r\n                      // console.dir(data);\r\n                      // console.log(typeof data);\r\n\r\n                      return (\r\n                        <div style={{ paddingBottom: 8 }} key={`msg${i}`}>\r\n                          {typeof data === \"string\" &&\r\n                            message.type === \"error\" &&\r\n                            data && <pre style={{ color: \"red\" }}>{data}</pre>}\r\n                          {typeof data === \"object\" &&\r\n                            message.type === \"log\" &&\r\n                            data && (\r\n                              <ReactJson\r\n                                style={{ position: \"static\" }}\r\n                                collapsed\r\n                                name={null}\r\n                                key={`msg${i}`}\r\n                                src={data}\r\n                              />\r\n                            )}\r\n                          {typeof data === \"object\" &&\r\n                            message.type === \"error\" &&\r\n                            data && (\r\n                              <ReactJson\r\n                                style={{ position: \"static\" }}\r\n                                collapsed={false}\r\n                                name={\"Error\"}\r\n                                key={`msg${i}`}\r\n                                src={{\r\n                                  message: data.message,\r\n                                  stack: data.stack,\r\n                                }}\r\n                              />\r\n                            )}\r\n                          {data === null && (\r\n                            <span style={{ color: \"purple\" }}>null</span>\r\n                          )}\r\n                          {(typeof data === \"number\" ||\r\n                            typeof data === \"string\") &&\r\n                            message.type === \"log\" && <pre>{data}</pre>}\r\n                          {typeof data === \"symbol\" && (\r\n                            <span style={{ color: \"red\" }}>\r\n                              {data.toString()}\r\n                            </span>\r\n                          )}\r\n                          {typeof data === \"function\" && (\r\n                            <span style={{ color: \"gray\" }}>\r\n                              {data.toString()}\r\n                            </span>\r\n                          )}\r\n                          {typeof data === \"undefined\" && (\r\n                            <span style={{ color: \"#d3d3d3\" }}>undefined</span>\r\n                          )}\r\n                          {typeof data === \"boolean\" && (\r\n                            <span style={{ color: \"blue\" }}>\r\n                              {data.toString()}\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      );\r\n                    })}\r\n                    {i !== consoleMessages.length - 1 && <ConsoleDivider />}\r\n                  </React.Fragment>\r\n                ))}\r\n            </div>\r\n          </SplitPane>\r\n        </SplitPane>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default Sandbox;\r\n","/* eslint-disable import/no-webpack-loader-syntax */\r\nimport React, { FC } from \"react\";\r\nimport Sandbox from \"../../react-sandbox\";\r\nimport tpCode from \"!raw-loader!./code.lsz\";\r\nconst version = \"4.12.0\";\r\nconst Antd: FC = () => {\r\n  return (\r\n    <Sandbox\r\n      styles={[{ href: `https://unpkg.com/antd@${version}/dist/antd.min.css` }]}\r\n      code={tpCode}\r\n      extraLibs={require(\"./antd.json\").types}\r\n      scripts={[\r\n        {\r\n          name: \"react\",\r\n          src: \"https://unpkg.com/react/umd/react.production.min.js\",\r\n          types: [\r\n            \"https://www.lsz8617.com/ts-type/react/index.d.ts\",\r\n            \"https://www.lsz8617.com/ts-type/react/global.d.ts\",\r\n          ],\r\n        },\r\n\r\n        {\r\n          name: \"react-dom\",\r\n          src: \"https://unpkg.com/react-dom/umd/react-dom.production.min.js\",\r\n          types: [\"https://www.lsz8617.com/ts-type/react-dom/index.d.ts\"],\r\n        },\r\n        {\r\n          name: \"moment\",\r\n          src: \"https://unpkg.com/moment\",\r\n        },\r\n        {\r\n          name: \"antd\",\r\n          src: `https://unpkg.com/antd@${version}`,\r\n        },\r\n      ]}\r\n    />\r\n  );\r\n};\r\nexport default Antd;\r\n","export default \"import React, { FC, useState } from \\\"react\\\";\\r\\nimport ReactDOM from \\\"react-dom\\\";\\r\\nimport { Input, Typography } from \\\"antd\\\";\\r\\nconst { Title, Paragraph, Text, Link } = Typography;\\r\\nconst blockContent = `AntV 是蚂蚁金服全新一代数据可视化解决方案，致力于提供一套简单方便、专业可靠、不限可能的数据可视化最佳实践。得益于丰富的业务场景和用户需求挑战，AntV 经历多年积累与不断打磨，已支撑整个阿里集团内外 20000+ 业务系统，通过了日均千万级 UV 产品的严苛考验。\\r\\n我们正在基础图表，图分析，图编辑，地理空间可视化，智能可视化等各个可视化的领域耕耘，欢迎同路人一起前行。`;\\r\\ninterface ContentProps {}\\r\\nconsole.log(React)\\r\\nconst Content: FC<ContentProps> = () => {\\r\\n  const [value,setValue]=useState<string>('受控输入组件');\\r\\n  return (\\r\\n    <Typography style={{ padding: 10 }}>\\r\\n      <Title>介绍</Title>\\r\\n      <Paragraph>\\r\\n        蚂蚁的企业级产品是一个庞大且复杂的体系。这类产品不仅量级巨大且功能复杂，而且变动和并发频繁，常常需要设计与开发能够快速的做出响应。同时这类产品中有存在很多类似的页面以及组件，可以通过抽象得到一些稳定且高复用性的内容。\\r\\n      </Paragraph>\\r\\n      <Paragraph>\\r\\n        随着商业化的趋势，越来越多的企业级产品对更好的用户体验有了进一步的要求。带着这样的一个终极目标，我们（蚂蚁金服体验技术部）经过大量的项目实践和总结，逐步打磨出一个服务于企业级产品的设计体系\\r\\n        Ant Design。基于<Text mark>『确定』和『自然』</Text>\\r\\n        的设计价值观，通过模块化的解决方案，降低冗余的生产成本，让设计者专注于\\r\\n        <Text strong>更好的用户体验</Text>。\\r\\n      </Paragraph>\\r\\n      <Title level={2}>设计资源</Title>\\r\\n      <Paragraph>\\r\\n        我们提供完善的设计原则、最佳实践和设计资源文件（\\r\\n        <Text code>Sketch</Text> 和<Text code>Axure</Text>\\r\\n        ），来帮助业务快速设计出高质量的产品原型。\\r\\n      </Paragraph>\\r\\n\\r\\n      <Paragraph>\\r\\n        <ul>\\r\\n          <li>\\r\\n            <Link href=\\\"#\\\">设计原则</Link>\\r\\n          </li>\\r\\n          <li>\\r\\n            <Link href=\\\"#\\\">设计模式</Link>\\r\\n          </li>\\r\\n          <li>\\r\\n            <Link href=\\\"#\\\">设计资源</Link>\\r\\n          </li>\\r\\n        </ul>\\r\\n      </Paragraph>\\r\\n\\r\\n      <Paragraph>\\r\\n        <blockquote>{blockContent}</blockquote>\\r\\n        <pre>{blockContent}</pre>\\r\\n      </Paragraph>\\r\\n\\r\\n      <Paragraph>\\r\\n        按<Text keyboard>Esc</Text>键退出阅读……\\r\\n      </Paragraph>\\r\\n      <Input value={value} onChange={e=>setValue(e.target.value)}/>\\r\\n    </Typography>\\r\\n  );\\r\\n};\\r\\nclass App extends React.Component {\\r\\n  render() {\\r\\n    return (\\r\\n      <>\\r\\n        <Content />\\r\\n      </>\\r\\n    );\\r\\n  }\\r\\n}\\r\\nReactDOM.render(\\r\\n  <>\\r\\n    <App />\\r\\n  </>,\\r\\n  document.getElementById(\\\"root\\\"),\\r\\n);\\r\\n\";","/* eslint-disable import/no-webpack-loader-syntax */\r\nimport React, { FC, useState } from \"react\";\r\nimport Sandbox from \"../../react-sandbox\";\r\nimport defs from \"!raw-loader!./defs.lsz\";\r\nimport implement from \"!raw-loader!./implements.lsz\";\r\nimport code from \"!raw-loader!./code.lsz\";\r\nexport interface LeetCodeProps {}\r\nconst LeetCode: FC<LeetCodeProps> = ({ ...props }) => {\r\n  const [c, setC] = useState<string>(localStorage.getItem(\"leetcode\") || \"\");\r\n  return (\r\n    <>\r\n      <Sandbox\r\n        pageDefaultSize={0}\r\n        code={c || code}\r\n        onChange={(c) => {\r\n          localStorage.setItem(\"leetcode\", c);\r\n        }}\r\n        defs={defs}\r\n        preExecute={implement}\r\n      />\r\n    </>\r\n  );\r\n};\r\nexport default LeetCode;\r\n","export default \"/**\\r\\n * 内置\\r\\n * 单链表ListNode\\r\\n * 二叉树TreeNode\\r\\n * 二叉树广度优先反序列化与反序列化serializeWidely,deserializeWidely\\r\\n * execute方法，将结果输出到控制台\\r\\n * 模拟leetcode练习\\r\\n */\\r\\nexecute(1, \\\"string\\\", {}, new ListNode(), new TreeNode());\";","export default \"//二叉树\\r\\nclass TreeNode {\\r\\n    val: number\\r\\n    left: TreeNode | null\\r\\n    right: TreeNode | null\\r\\n    constructor(val?: number, left?: TreeNode | null, right?: TreeNode | null) {\\r\\n        this.val = (val===undefined ? 0 : val)\\r\\n        this.left = (left===undefined ? null : left)\\r\\n        this.right = (right===undefined ? null : right)\\r\\n    }\\r\\n}\\r\\n//单链表\\r\\nclass ListNode {\\r\\n     val: number\\r\\n     next: ListNode | null\\r\\n     constructor(val?: number, next?: ListNode | null) {\\r\\n         this.val = (val===undefined ? 0 : val)\\r\\n         this.next = (next===undefined ? null : next)\\r\\n     }\\r\\n }\\r\\n//执行结果输入到右侧控制台\\r\\nfunction execute(...rest):void;\\r\\n//二叉树广度优先序列化\\r\\nfunction serializeWidely(root: TreeNode | null): string \\r\\n//二叉树广度优先反序列化\\r\\nfunction deserializeWidely(data: string): TreeNode | null \\r\\n \";","export default \"//二叉树\\r\\nclass TreeNode {\\r\\n  val: number;\\r\\n  left: TreeNode | null;\\r\\n  right: TreeNode | null;\\r\\n  constructor(val?: number, left?: TreeNode | null, right?: TreeNode | null) {\\r\\n    this.val = val === undefined ? 0 : val;\\r\\n    this.left = left === undefined ? null : left;\\r\\n    this.right = right === undefined ? null : right;\\r\\n  }\\r\\n}\\r\\n//单链表\\r\\nclass ListNode {\\r\\n  val: number;\\r\\n  next: ListNode | null;\\r\\n  constructor(val?: number, next?: ListNode | null) {\\r\\n    this.val = val === undefined ? 0 : val;\\r\\n    this.next = next === undefined ? null : next;\\r\\n  }\\r\\n}\\r\\nfunction serializeHelper(root: TreeNode | null, result: any[], queue: any[]) {\\r\\n  if (!root) {\\r\\n    queue.push(null);\\r\\n  }\\r\\n}\\r\\nfunction serializeWidely(root: TreeNode | null): string {\\r\\n  if (!root) {\\r\\n    return JSON.stringify([null]);\\r\\n  }\\r\\n  let result = [];\\r\\n  let queue = [root];\\r\\n  while (queue.length > 0) {\\r\\n    const node = queue.shift();\\r\\n    if (node) {\\r\\n      result.push(node.val);\\r\\n      queue.push(node.left, node.right);\\r\\n    } else {\\r\\n      result.push(null);\\r\\n    }\\r\\n  }\\r\\n  return JSON.stringify(result);\\r\\n}\\r\\nfunction deserializeWidely(data: string): TreeNode | null {\\r\\n  const nodes = JSON.parse(data);\\r\\n  const node = nodes.shift();\\r\\n  if (node===null) {\\r\\n    return null;\\r\\n  }\\r\\n  const root = new TreeNode(node);\\r\\n  let queue = [root];\\r\\n  while (queue.length > 0) {\\r\\n    const node = queue.shift();\\r\\n    const leftVal = nodes.shift();\\r\\n    const rightVal = nodes.shift();\\r\\n    if (leftVal !== null && leftVal !== undefined) {\\r\\n      const leftNode = new TreeNode(leftVal);\\r\\n      node.left = leftNode;\\r\\n      queue.push(leftNode);\\r\\n    }\\r\\n    if (rightVal !== null && rightVal !== undefined) {\\r\\n      const rightNode = new TreeNode(rightVal);\\r\\n      node.right = rightNode;\\r\\n      queue.push(rightNode);\\r\\n    }\\r\\n    // break;\\r\\n  }\\r\\n  return root;\\r\\n}\\r\\nfunction execute (...rest) {\\r\\n  console.log(...rest)\\r\\n};\\r\\n\";","/* eslint-disable import/no-webpack-loader-syntax */\r\nimport React, { FC, useState } from \"react\";\r\nimport Sandbox from \"../../react-sandbox\";\r\nimport defs from \"!raw-loader!./defs.lsz\";\r\nimport implement from \"!raw-loader!./implements.lsz\";\r\nimport code from \"!raw-loader!./code.lsz\";\r\nexport interface LeetCodeProps {}\r\nconst LeetCode: FC<LeetCodeProps> = ({ ...props }) => {\r\n  return (\r\n    <>\r\n      <Sandbox\r\n        pageDefaultSize={0}\r\n        code={code}\r\n        defs={defs}\r\n        preExecute={implement}\r\n      />\r\n    </>\r\n  );\r\n};\r\nexport default LeetCode;\r\n","export default \"console.log(1);\\r\\nvar b = new ListNode(1);\\r\\nb.next;\\r\\nb.next.next;\";","export default \"//二叉树\\r\\nclass TreeNode {\\r\\n    val: number\\r\\n    left: TreeNode | null\\r\\n    right: TreeNode | null\\r\\n    constructor(val?: number, left?: TreeNode | null, right?: TreeNode | null) {\\r\\n        this.val = (val===undefined ? 0 : val)\\r\\n        this.left = (left===undefined ? null : left)\\r\\n        this.right = (right===undefined ? null : right)\\r\\n    }\\r\\n}\\r\\n//单链表\\r\\nclass ListNode {\\r\\n     val: number\\r\\n     next: ListNode | null\\r\\n     constructor(val?: number, next?: ListNode | null) {\\r\\n         this.val = (val===undefined ? 0 : val)\\r\\n         this.next = (next===undefined ? null : next)\\r\\n     }\\r\\n }\\r\\n//执行结果输入到右侧控制台\\r\\nfunction execute(...rest):void;\\r\\n//二叉树广度优先序列化\\r\\nfunction serializeWidely(root: TreeNode | null): string \\r\\n//二叉树广度优先反序列化\\r\\nfunction deserializeWidely(data: string): TreeNode | null \\r\\n \";","export default \"//二叉树\\r\\nclass TreeNode {\\r\\n  val: number;\\r\\n  left: TreeNode | null;\\r\\n  right: TreeNode | null;\\r\\n  constructor(val?: number, left?: TreeNode | null, right?: TreeNode | null) {\\r\\n    this.val = val === undefined ? 0 : val;\\r\\n    this.left = left === undefined ? null : left;\\r\\n    this.right = right === undefined ? null : right;\\r\\n  }\\r\\n}\\r\\n//单链表\\r\\nclass ListNode {\\r\\n  val: number;\\r\\n  next: ListNode | null;\\r\\n  constructor(val?: number, next?: ListNode | null) {\\r\\n    this.val = val === undefined ? 0 : val;\\r\\n    this.next = next === undefined ? null : next;\\r\\n  }\\r\\n}\\r\\nfunction serializeHelper(root: TreeNode | null, result: any[], queue: any[]) {\\r\\n  if (!root) {\\r\\n    queue.push(null);\\r\\n  }\\r\\n}\\r\\nfunction serializeWidely(root: TreeNode | null): string {\\r\\n  if (!root) {\\r\\n    return JSON.stringify([null]);\\r\\n  }\\r\\n  let result = [];\\r\\n  let queue = [root];\\r\\n  while (queue.length > 0) {\\r\\n    const node = queue.shift();\\r\\n    if (node) {\\r\\n      result.push(node.val);\\r\\n      queue.push(node.left, node.right);\\r\\n    } else {\\r\\n      result.push(null);\\r\\n    }\\r\\n  }\\r\\n  return JSON.stringify(result);\\r\\n}\\r\\nfunction deserializeWidely(data: string): TreeNode | null {\\r\\n  const nodes = JSON.parse(data);\\r\\n  const node = nodes.shift();\\r\\n  if (node===null) {\\r\\n    return null;\\r\\n  }\\r\\n  const root = new TreeNode(node);\\r\\n  let queue = [root];\\r\\n  while (queue.length > 0) {\\r\\n    const node = queue.shift();\\r\\n    const leftVal = nodes.shift();\\r\\n    const rightVal = nodes.shift();\\r\\n    if (leftVal !== null && leftVal !== undefined) {\\r\\n      const leftNode = new TreeNode(leftVal);\\r\\n      node.left = leftNode;\\r\\n      queue.push(leftNode);\\r\\n    }\\r\\n    if (rightVal !== null && rightVal !== undefined) {\\r\\n      const rightNode = new TreeNode(rightVal);\\r\\n      node.right = rightNode;\\r\\n      queue.push(rightNode);\\r\\n    }\\r\\n    // break;\\r\\n  }\\r\\n  return root;\\r\\n}\\r\\nfunction execute (...rest) {\\r\\n  console.log(...rest)\\r\\n};\\r\\n\";","import React, { useState } from \"react\";\r\n\r\nimport { parse } from \"querystring\";\r\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\r\nimport Antd from \"./example/antd\";\r\nimport LeetCode from \"./example/leetcode\";\r\nimport Sourcemap from \"./example/sourcemap\";\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <HashRouter>\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <Antd />\r\n          </Route>\r\n          <Route exact path=\"/leetcode\">\r\n            <LeetCode />\r\n          </Route>\r\n          <Route exact path=\"/sourcemap\">\r\n            <Sourcemap />\r\n          </Route>\r\n        </Switch>\r\n      </HashRouter>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}